name: syfomotebehov
image: "repo.adeo.no:5443/syfomotebehov"
replicas:
  min: 1
  max: 2
  cpuThresholdPercentage: 90
port: 8080
healthcheck:
  liveness:
    path: /syfomotebehov/internal/isAlive
    initialDelay: 120
    timeout: 1
    periodSeconds: 10
    failureThreshold: 3
  readiness:
    path: /syfomotebehov/internal/isReady
    initialDelay: 120
    timeout: 1
prometheus:
  enabled: true
  path: /syfomotebehov/internal/prometheus
resources:
  limits:
    cpu: 3000m
    memory: 512Mi
  requests:
    cpu: 500m
    memory: 384Mi
fasitResources:
  exposed:
  - alias: syfomotebehovapi
    resourceType: restservice
    path: /syfomotebehov/api
  - alias: motebehovfeedveilederoppgaver
    resourceType: restservice
    path: /syfomotebehov/api/feed/motebehov
  used:
  - alias: Aktoer_v2
    resourceType: webserviceendpoint
  - alias: syfomotebehov.properties
    resourceType: applicationproperties
  - alias: srvsyfomotebehov
    resourceType: credential
  - alias: securityTokenService
    resourceType: baseurl
  - alias: loadbalancer:syfomotebehov
    resourceType: loadbalancerconfig
  - alias: freg-security-oidc
    resourceType: OpenIdConnect
    propertyMap:
      agentName: freg.security.oidc.idp.openAm.clientId
      password: freg.security.oidc.idp.openAm.clientSecret
      hostUrl: freg.security.oidc.idp.openAm.hostUrl
      issuerUrl: freg.security.oidc.idp.openAm.issuerUrl
      jwksUrl: freg.security.oidc.idp.openAm.jwksUrl
  - alias: syfoveilederoppgaver.systemapi
    resourceType: credential
  - alias: syfomotebehovDB
    resourceType: datasource
    propertyMap:
      url: SPRING_DATASOURCE_URL
      username: SPRING_DATASOURCE_USERNAME
      password: SPRING_DATASOURCE_PASSWORD
